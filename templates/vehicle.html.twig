{% extends 'master.html.twig' %}

{% block content %}
  <h1>Vehicle Details</h1>
  <div class="row">
    <div class="col-md-6">
      <img src="{{ vehicle.photo }}" alt="{{ vehicle.make }} {{ vehicle.model }}">
    </div>
    <div class="col-md-6">
      <h2>{{ vehicle.make }} {{ vehicle.model }}</h2>
      <p>{{ vehicle.description }}</p>
      <table>
        <tr>
          <td>Year:</td>
          <td>{{ vehicle.year }}</td>
        </tr>
        <tr>
          <td>Color:</td>
          <td>{{ vehicle.color }}</td>
        </tr>
        <tr>
          <td>Price:</td>
          <td>${{ vehicle.price }}/day</td>
        </tr>
        <tr>
          <td>Availability:</td>
          <td>{{ vehicle.availability }}</td>
        </tr>
        <tr>
          <td>Start Date:</td>
          <td>{{ pickupDateTime|date('Y-m-d H:i:s') }}</td>
        </tr>
        <tr>
          <td>End Date:</td>
          <td>{{ returnDateTime|date('Y-m-d H:i:s') }}</td>
        </tr>
      </table>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-md-6">
      <h2>Rental Details</h2>
      <form method="post" action="/booking">
        <input type="hidden" name="vehicle_id" value="{{ vehicle.id }}">
        <input type="hidden" name="pickup_date" value="{{ pickupDateTime }}">
        <input type="hidden" name="return_date" value="{{ returnDateTime }}">
        <table>
          <tr>
            <td>Start Date:</td>
            <td>{{ pickupDateTime|date('Y-m-d H:i:s') }}</td>
          </tr>
          <tr>
            <td>End Date:</td>
            <td>{{ returnDateTime|date('Y-m-d H:i:s') }}</td>
          </tr>
          <tr>
            <td>Price:</td>
            <td>${{ vehicle.price }}/day</td>
          </tr>
          <tr>
            <td>Days:</td>
            <td>{{ rentalDays }}</td>
          </tr>
              <tr>
      <td>Subtotal:</td>
      <td>${{ subtotal }}</td>
    </tr>
    <tr>
      <td>Tax ({{ taxRate }}%):</td>
      <td>${{ taxAmount }}</td>
    </tr>
    <tr>
      <td>Total:</td>
      <td>${{ total }}</td>
    </tr>
  </table>
  <hr>
  <h2>Personal Information</h2>
  <div class="form-group">
    <label for="name">Name:</label>
    <input type="text" class="form-control" id="name" name="name" required>
  </div>
  <div class="form-group">
    <label for="address">Address:</label>
    <input type="text" class="form-control" id="address" name="address" required>
  </div>
  <div class="form-group">
    <label for="phone">Phone:</label>
    <input type="text" class="form-control" id="phone" name="phone" required>
  </div>
  <div class="form-group">
    <label for="email">Email:</label>
    <input type="email" class="form-control" id="email" name="email" required>
  </div>
  <div class="form-group">
    <label for="dob">Date of Birth:</label>
    <input type="date" class="form-control" id="dob" name="dob" required>
  </div>
  <div class="form-group">
    <label for="license_number">License Number:</label>
    <input type="text" class="form-control" id="license_number" name="license_number" required>
  </div>
  <div class="form-group">
    <label for="license_expiration">License Expiration:</label>
    <input type="date" class="form-control" id="license_expiration" name="license_expiration" required>
  </div>
  <div class="form-group form-check">
    <input type="checkbox" class="form-check-input" id="terms" name="terms" required>
    <label class="form-check-label" for="terms">I agree to the terms of service</label>
  </div>
  <button type="submit" class="btn btn-primary">Book Now</button>
</form>
  </div>
</div>
{% endblock %}
